{"ast":null,"code":"import _slicedToArray from\"/Users/frank/code/TOP/repos/sites/spotlist/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useContext}from'react';import styles from'../../styles/searchbar.module.css';import Error from'../error/error.js';import Options from'./searchbar-options';import LoadingSVG from'../svg/loading.js';import{AppContext}from'../../App.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Searchbar=function Searchbar(_ref){var requestAuthLink=_ref.requestAuthLink,createPlaylist=_ref.createPlaylist;var _useContext=useContext(AppContext),creatingPlaylist=_useContext.creatingPlaylist,authenticated=_useContext.authenticated,authenticating=_useContext.authenticating,setlistError=_useContext.setlistError,authError=_useContext.authError;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),url=_useState2[0],setUrl=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),arrow=_useState4[0],setArrow=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),options=_useState6[0],setOptions=_useState6[1];function toggleOptions(){setArrow(!arrow);setOptions(!options);}return/*#__PURE__*/_jsxs(\"div\",{className:styles.searchbar,children:[!authenticated&&/*#__PURE__*/_jsxs(\"div\",{className:styles.auth,children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:styles.authButton,onClick:requestAuthLink,children:[authenticating&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Connecting\"}),/*#__PURE__*/_jsx(LoadingSVG,{})]}),!authenticating&&/*#__PURE__*/_jsx(\"span\",{children:\"First, Connect Your Spotify Account\"})]}),authError&&/*#__PURE__*/_jsx(Error,{className:styles.authError,value:authError})]}),/*#__PURE__*/_jsxs(\"form\",{className:styles.form,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:styles.url,name:\"searchbar\",spellCheck:\"false\",autoComplete:\"off\",placeholder:\"Setlist Link\",pattern:\".*setlist\\\\.fm.*\",title:\"Must be a setlist.fm link\",required:true,value:url,onChange:function onChange(e){return setUrl(e.target.value);}}),/*#__PURE__*/_jsx(\"span\",{className:styles.urlError,children:\"Not a valid setlist.fm link\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.optionsButton,onClick:toggleOptions,children:[/*#__PURE__*/_jsx(\"span\",{children:\"Options\"}),/*#__PURE__*/_jsx(\"svg\",{className:arrow?styles.arrow:'',viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{fill:\"currentColor\",d:\"m12 15.4l-6-6L7.4 8l4.6 4.6L16.6 8L18 9.4Z\"})})]}),options&&/*#__PURE__*/_jsx(Options,{}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:styles.searchButton,onClick:function onClick(){return createPlaylist(url);},children:[creatingPlaylist&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Creating\"}),/*#__PURE__*/_jsx(LoadingSVG,{})]}),!creatingPlaylist&&'Create Playlist']}),setlistError&&/*#__PURE__*/_jsx(Error,{value:setlistError})]})]});};export default Searchbar;","map":{"version":3,"names":["useState","useContext","styles","Error","Options","LoadingSVG","AppContext","Searchbar","requestAuthLink","createPlaylist","creatingPlaylist","authenticated","authenticating","setlistError","authError","url","setUrl","arrow","setArrow","options","setOptions","toggleOptions","searchbar","auth","authButton","form","e","target","value","urlError","optionsButton","searchButton"],"sources":["/Users/frank/code/TOP/repos/sites/spotlist/src/components/searchbar/searchbar.js"],"sourcesContent":["import { useState, useContext } from 'react';\nimport styles from '../../styles/searchbar.module.css';\nimport Error from '../error/error.js';\nimport Options from './searchbar-options';\nimport LoadingSVG from '../svg/loading.js';\nimport { AppContext } from '../../App.js';\n\nconst Searchbar = ({ requestAuthLink, createPlaylist }) => {\n\n  const { creatingPlaylist, authenticated, authenticating, setlistError, authError } = useContext(AppContext);\n\n  const [url, setUrl] = useState('');\n  const [arrow, setArrow] = useState(false);\n  const [options, setOptions] = useState(false);\n\n  function toggleOptions() {\n    setArrow(!arrow);\n    setOptions(!options);\n  }\n\n  return (\n    <div className={styles.searchbar}>\n      { !authenticated &&\n        <div className={styles.auth}>\n          <button type=\"button\" className={styles.authButton} onClick={requestAuthLink}>\n            { authenticating &&\n              <div>\n                <span>Connecting</span>\n                <LoadingSVG />\n              </div>\n            }\n            { !authenticating &&\n              <span>First, Connect Your Spotify Account</span>\n            }\n          </button>\n          { authError &&\n            <Error className={styles.authError} value={authError} />\n          }\n        </div>\n      }\n      <form className={styles.form}>\n        <input\n          type=\"text\"\n          className={styles.url}\n          name=\"searchbar\"\n          spellCheck=\"false\"\n          autoComplete=\"off\"\n          placeholder=\"Setlist Link\"\n          pattern=\".*setlist\\.fm.*\"\n          title=\"Must be a setlist.fm link\"\n          required\n          value={url}\n          onChange={(e) => setUrl(e.target.value)}\n        />\n        <span className={styles.urlError}>Not a valid setlist.fm link</span>\n        <div className={styles.optionsButton} onClick={toggleOptions}>\n          <span>Options</span>\n          <svg className={arrow ? styles.arrow : ''} viewBox=\"0 0 24 24\">\n            <path fill=\"currentColor\" d=\"m12 15.4l-6-6L7.4 8l4.6 4.6L16.6 8L18 9.4Z\"/>\n          </svg>\n        </div>\n        { options && <Options /> }\n        <button type=\"button\" className={styles.searchButton} onClick={() => createPlaylist(url)}>\n          { creatingPlaylist &&\n            <div>\n              <span>Creating</span>\n              <LoadingSVG />\n            </div>\n          }\n          { !creatingPlaylist &&\n            'Create Playlist'\n          }\n        </button>\n        { setlistError &&\n          <Error value={setlistError} />\n        }\n      </form>\n    </div>\n  )\n}\n\nexport default Searchbar\n"],"mappings":"gIAAA,OAASA,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CAC5C,MAAOC,OAAM,KAAM,mCAAmC,CACtD,MAAOC,MAAK,KAAM,mBAAmB,CACrC,MAAOC,QAAO,KAAM,qBAAqB,CACzC,MAAOC,WAAU,KAAM,mBAAmB,CAC1C,OAASC,UAAU,KAAQ,cAAc,CAAC,wFAE1C,GAAMC,UAAS,CAAG,QAAZA,UAAS,MAA4C,IAAtCC,gBAAe,MAAfA,eAAe,CAAEC,cAAc,MAAdA,cAAc,CAElD,gBAAqFR,UAAU,CAACK,UAAU,CAAC,CAAnGI,gBAAgB,aAAhBA,gBAAgB,CAAEC,aAAa,aAAbA,aAAa,CAAEC,cAAc,aAAdA,cAAc,CAAEC,YAAY,aAAZA,YAAY,CAAEC,SAAS,aAATA,SAAS,CAEhF,cAAsBd,QAAQ,CAAC,EAAE,CAAC,wCAA3Be,GAAG,eAAEC,MAAM,eAClB,eAA0BhB,QAAQ,CAAC,KAAK,CAAC,yCAAlCiB,KAAK,eAAEC,QAAQ,eACtB,eAA8BlB,QAAQ,CAAC,KAAK,CAAC,yCAAtCmB,OAAO,eAAEC,UAAU,eAE1B,QAASC,cAAa,EAAG,CACvBH,QAAQ,CAAC,CAACD,KAAK,CAAC,CAChBG,UAAU,CAAC,CAACD,OAAO,CAAC,CACtB,CAEA,mBACE,aAAK,SAAS,CAAEjB,MAAM,CAACoB,SAAU,WAC7B,CAACX,aAAa,eACd,aAAK,SAAS,CAAET,MAAM,CAACqB,IAAK,wBAC1B,gBAAQ,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAErB,MAAM,CAACsB,UAAW,CAAC,OAAO,CAAEhB,eAAgB,WACzEI,cAAc,eACd,oCACE,oCAAuB,cACvB,KAAC,UAAU,IAAG,GACV,CAEN,CAACA,cAAc,eACf,6DAAgD,GAE3C,CACPE,SAAS,eACT,KAAC,KAAK,EAAC,SAAS,CAAEZ,MAAM,CAACY,SAAU,CAAC,KAAK,CAAEA,SAAU,EAAG,GAEtD,cAER,cAAM,SAAS,CAAEZ,MAAM,CAACuB,IAAK,wBAC3B,cACE,IAAI,CAAC,MAAM,CACX,SAAS,CAAEvB,MAAM,CAACa,GAAI,CACtB,IAAI,CAAC,WAAW,CAChB,UAAU,CAAC,OAAO,CAClB,YAAY,CAAC,KAAK,CAClB,WAAW,CAAC,cAAc,CAC1B,OAAO,CAAC,kBAAiB,CACzB,KAAK,CAAC,2BAA2B,CACjC,QAAQ,MACR,KAAK,CAAEA,GAAI,CACX,QAAQ,CAAE,kBAACW,CAAC,QAAKV,OAAM,CAACU,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EACxC,cACF,aAAM,SAAS,CAAE1B,MAAM,CAAC2B,QAAS,yCAAmC,cACpE,aAAK,SAAS,CAAE3B,MAAM,CAAC4B,aAAc,CAAC,OAAO,CAAET,aAAc,wBAC3D,iCAAoB,cACpB,YAAK,SAAS,CAAEJ,KAAK,CAAGf,MAAM,CAACe,KAAK,CAAG,EAAG,CAAC,OAAO,CAAC,WAAW,uBAC5D,aAAM,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,4CAA4C,EAAE,EACtE,GACF,CACJE,OAAO,eAAI,KAAC,OAAO,IAAG,cACxB,gBAAQ,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAEjB,MAAM,CAAC6B,YAAa,CAAC,OAAO,CAAE,yBAAMtB,eAAc,CAACM,GAAG,CAAC,EAAC,WACrFL,gBAAgB,eAChB,oCACE,kCAAqB,cACrB,KAAC,UAAU,IAAG,GACV,CAEN,CAACA,gBAAgB,EACjB,iBAAiB,GAEZ,CACPG,YAAY,eACZ,KAAC,KAAK,EAAC,KAAK,CAAEA,YAAa,EAAG,GAE3B,GACH,CAEV,CAAC,CAED,cAAeN,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}