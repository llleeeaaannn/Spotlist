{"ast":null,"code":"import _slicedToArray from\"/Users/frank/code/TOP/repos/sites/setlist/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useContext}from'react';import{AppContext}from'../App.js';import styles from'../styles/playlist.module.css';import{Link}from'react-router-dom';import Covers from'../components/playlist/covers.js';import Unfound from'../components/playlist/unfound.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Playlist=function Playlist(){var _useContext=useContext(AppContext),playlistLink=_useContext.playlistLink,unfoundSongs=_useContext.unfoundSongs,coverSongs=_useContext.coverSongs;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),copiedLink=_useState2[0],setCopiedLink=_useState2[1];function copyLink(link){if('clipboard'in navigator){navigator.clipboard.writeText(link);}setCopiedLink(true);setTimeout(function(){return setCopiedLink(false);},3000);}function copySong(song){var text=song.artist?\"\".concat(song.name,\" by \").concat(song.artist):\"\".concat(song.name);if('clipboard'in navigator){navigator.clipboard.writeText(text);}}return/*#__PURE__*/_jsxs(\"div\",{className:styles.playlist,children:[playlistLink&&/*#__PURE__*/_jsxs(\"div\",{className:styles.created,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your playlist has been created\"}),/*#__PURE__*/_jsx(\"span\",{children:\"It's already your saved in Spotify account and you can also find it below:\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.buttons,children:[/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return copyLink(playlistLink);},children:copiedLink?'Copied Link':'Copy Link'}),/*#__PURE__*/_jsx(\"a\",{href:playlistLink,target:\"_blank\",rel:\"noopener noreferrer\",children:\"Open Playlist\"})]}),unfoundSongs.length>0&&/*#__PURE__*/_jsx(Unfound,{songs:unfoundSongs,copySong:copySong}),coverSongs.length>0&&/*#__PURE__*/_jsx(Covers,{songs:coverSongs,copySong:copySong})]}),!playlistLink&&/*#__PURE__*/_jsx(\"div\",{className:styles.failed,children:/*#__PURE__*/_jsxs(\"span\",{children:[\"Cannot find playlist, please return \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"home\"}),\" and try again\"]})})]});};export default Playlist;","map":{"version":3,"names":["useState","useContext","AppContext","styles","Link","Covers","Unfound","Playlist","playlistLink","unfoundSongs","coverSongs","copiedLink","setCopiedLink","copyLink","link","navigator","clipboard","writeText","setTimeout","copySong","song","text","artist","name","playlist","created","buttons","length","failed"],"sources":["/Users/frank/code/TOP/repos/sites/setlist/client/src/views/playlist.js"],"sourcesContent":["import { useState, useContext } from 'react';\nimport { AppContext } from '../App.js';\nimport styles from '../styles/playlist.module.css';\nimport { Link } from 'react-router-dom';\nimport Covers from '../components/playlist/covers.js';\nimport Unfound from '../components/playlist/unfound.js';\n\nconst Playlist = () => {\n\n  const { playlistLink, unfoundSongs, coverSongs } = useContext(AppContext);\n\n  const [copiedLink, setCopiedLink] = useState(false);\n\n  function copyLink(link) {\n    if ('clipboard' in navigator) {\n      navigator.clipboard\n      .writeText(link)\n    }\n    setCopiedLink(true);\n    setTimeout(() => setCopiedLink(false), 3000);\n  }\n\n  function copySong(song) {\n    const text = song.artist ? `${song.name} by ${song.artist}` : `${song.name}`;\n    if ('clipboard' in navigator) {\n      navigator.clipboard\n      .writeText(text)\n    }\n  }\n\n  return (\n    <div className={styles.playlist}>\n      { playlistLink &&\n        <div className={styles.created}>\n          <h2>Your playlist has been created</h2>\n          <span>It's already your saved in Spotify account and you can also find it below:</span>\n          <div className={styles.buttons}>\n            <span onClick={() => copyLink(playlistLink)}>{ copiedLink ? 'Copied Link' : 'Copy Link' }</span>\n            <a href={playlistLink} target='_blank' rel='noopener noreferrer'>Open Playlist</a>\n          </div>\n          { unfoundSongs.length > 0 &&\n            <Unfound songs={unfoundSongs} copySong={copySong} />\n          }\n          { coverSongs.length > 0 &&\n            <Covers songs={coverSongs} copySong={copySong} />\n          }\n        </div>\n      }\n      { !playlistLink &&\n        <div className={styles.failed}>\n          <span>Cannot find playlist, please return <Link to=\"/\">home</Link> and try again</span>\n        </div>\n      }\n    </div>\n  )\n}\n\nexport default Playlist;\n"],"mappings":"sIAAA,OAASA,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CAC5C,OAASC,UAAU,KAAQ,WAAW,CACtC,MAAOC,OAAM,KAAM,+BAA+B,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAOC,OAAM,KAAM,kCAAkC,CACrD,MAAOC,QAAO,KAAM,mCAAmC,CAAC,wFAExD,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CAErB,gBAAmDN,UAAU,CAACC,UAAU,CAAC,CAAjEM,YAAY,aAAZA,YAAY,CAAEC,YAAY,aAAZA,YAAY,CAAEC,UAAU,aAAVA,UAAU,CAE9C,cAAoCV,QAAQ,CAAC,KAAK,CAAC,wCAA5CW,UAAU,eAAEC,aAAa,eAEhC,QAASC,SAAQ,CAACC,IAAI,CAAE,CACtB,GAAI,WAAW,EAAIC,UAAS,CAAE,CAC5BA,SAAS,CAACC,SAAS,CAClBC,SAAS,CAACH,IAAI,CAAC,CAClB,CACAF,aAAa,CAAC,IAAI,CAAC,CACnBM,UAAU,CAAC,iBAAMN,cAAa,CAAC,KAAK,CAAC,GAAE,IAAI,CAAC,CAC9C,CAEA,QAASO,SAAQ,CAACC,IAAI,CAAE,CACtB,GAAMC,KAAI,CAAGD,IAAI,CAACE,MAAM,WAAMF,IAAI,CAACG,IAAI,gBAAOH,IAAI,CAACE,MAAM,YAAQF,IAAI,CAACG,IAAI,CAAE,CAC5E,GAAI,WAAW,EAAIR,UAAS,CAAE,CAC5BA,SAAS,CAACC,SAAS,CAClBC,SAAS,CAACI,IAAI,CAAC,CAClB,CACF,CAEA,mBACE,aAAK,SAAS,CAAElB,MAAM,CAACqB,QAAS,WAC5BhB,YAAY,eACZ,aAAK,SAAS,CAAEL,MAAM,CAACsB,OAAQ,wBAC7B,sDAAuC,cACvC,oGAAuF,cACvF,aAAK,SAAS,CAAEtB,MAAM,CAACuB,OAAQ,wBAC7B,aAAM,OAAO,CAAE,yBAAMb,SAAQ,CAACL,YAAY,CAAC,EAAC,UAAGG,UAAU,CAAG,aAAa,CAAG,WAAW,EAAS,cAChG,UAAG,IAAI,CAAEH,YAAa,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,CAAC,qBAAqB,2BAAkB,GAC9E,CACJC,YAAY,CAACkB,MAAM,CAAG,CAAC,eACvB,KAAC,OAAO,EAAC,KAAK,CAAElB,YAAa,CAAC,QAAQ,CAAEU,QAAS,EAAG,CAEpDT,UAAU,CAACiB,MAAM,CAAG,CAAC,eACrB,KAAC,MAAM,EAAC,KAAK,CAAEjB,UAAW,CAAC,QAAQ,CAAES,QAAS,EAAG,GAE/C,CAEN,CAACX,YAAY,eACb,YAAK,SAAS,CAAEL,MAAM,CAACyB,MAAO,uBAC5B,4EAA0C,KAAC,IAAI,EAAC,EAAE,CAAC,GAAG,kBAAY,oBAAqB,EACnF,GAEJ,CAEV,CAAC,CAED,cAAerB,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}